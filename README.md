# base64-image-viewer

把 Base64（或 Gemini Nano Banana 的 JSON 响应）一键解析成可预览的图片。

A tiny web tool that decodes Base64 (and Gemini Nano Banana JSON `inlineData`) into a previewable image.

> 提示：本项目主体代码由 Gemini 3 Pro 模型生成，我们在此基础上做了少量适配与微调。
> 
> Note: The core code of this project was initially generated by Gemini 3 Pro, and we made small adaptations and refinements for compatibility.

---

## What it is / 这是什么

`base64-image-viewer` 是一个纯前端、零依赖的小工具页，用来：

- ✅ 粘贴 **Base64 图片字符串**，直接渲染预览  
- ✅ 粘贴 **Gemini Nano Banana** 的完整 JSON 响应体，从 `candidates[].content.parts[].inlineData` 提取图片并展示  
- ✅ 显示基础元信息：类型、大小、分辨率（naturalWidth/Height）

适合用来快速排查：接口返回的 base64 是否正确、图片 mimeType 是否匹配、Gemini 输出的 inlineData 是否能被正确解码。

## Features / 特性

- Zero dependency / 零依赖
- Works offline / 可离线打开
- Supports:
  - Raw Base64
  - `data:image/...;base64,...`
  - Gemini JSON (`inlineData.data`, `inlineData.mimeType`)
- Metadata:
  - Size (KB/MB)
  - Resolution (px)
  - Type label (JSON/Gemini or Base64)

## Supported input formats / 支持的输入格式

### 1) Gemini Nano Banana JSON

要求 JSON 中包含（典型结构）：

- `candidates[0].content.parts[]`
- `parts[].inlineData.data` (base64)
- `parts[].inlineData.mimeType` (optional)

**Example:**
```json
{
  "candidates": [
    {
      "content": {
        "parts": [
          { "text": "Here is your image:" },
          {
            "inlineData": {
              "mimeType": "image/png",
              "data": "iVBORw0KGgoAAAANSUhEUgAA..."
            }
          }
        ]
      }
    }
  ]
}
````

### 2) Data URL Base64

**Example:**

```txt
data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...
```

### 3) Raw Base64 (no prefix)

**Example:**

```txt
iVBORw0KGgoAAAANSUhEUgAA...
```

## Usage / 使用方法

### Option A: Open directly (recommended) / 直接打开（推荐）

1. 下载/克隆项目
2. 用浏览器打开 `index.html`
3. 粘贴 JSON 或 Base64，点击 **Render**

### Option B: Serve locally (optional) / 本地起个服务（可选）

任意静态服务器即可，例如：

```bash
# python
python3 -m http.server 5173

# node (if installed)
npx serve .
```

然后访问：

* `http://localhost:5173`

## 示例数据（建议先用它们测试）

项目内置了 3 份可直接复制粘贴的测试数据，位于 `examples/` 目录，用于快速验证解析与渲染是否正常。

```txt
examples/
  gemini-inlineData.json   # Gemini Nano Banana 的 JSON 示例（inlineData）
  data-url.txt             # 标准 data:image/...;base64,... 示例
  raw-base64.txt           # 纯 Base64 示例（无前缀）
```

## Tips / 小贴士

* Base64 太长时建议直接粘贴，不要加额外引号或转义字符。
* 如果图片无法渲染：

  * 检查 base64 是否被截断
  * 检查 mimeType 是否正确（png/jpg/webp）
  * 如果是 JSON，确认 `inlineData.data` 存在且是纯 base64

## Project structure / 项目结构

* `index.html` — 纯静态页面 single-file app (HTML + CSS + JS)

## License

MIT
